# **React & Redux**

---

### **React의 상태 변경 조건**

1. 상태 변경 함수를 이용해서 변경할 것  
   상태에 직접 접근해서 값을 변경하는 것은 리액트에서 상태 변화를 인식하지 못한다.  
   반드시 `setState`와 같은 상태 변경 함수를 사용해야 한다.

2. 변경된 상태 값은 기존 상태 값고 다를 것  
   상태의 값이 같으면 상태 상태의 값이 같으면 리액트는 상태 변화를 감지하지 못하고 리렌더링이 발생하지 않는다.  
   이 때 리액트의 **state 불변성**을 지켜야 한다.

---

### **State 불변성이란?**

상태에 할당된 값을 직접 수정하지 않고, 새로운 값을 만들어 상태를 변경하는 것이다.  
원시 자료형의 경우 상태 변경 함수를 통해 다른 값으로 변경하고,  
참조 자료형(객체, 배열 등)은 새로운 객체나 배열을 생성하여 상태를 업데이트함으로써  
기존 상태를 직접 수정하지 않도록 한다.  
이 방식은 리액트가 상태 변화를 쉽게 감지하고 성능을 최적화하는 데 도움이 된다.

---

### **자료형별 비교 방식**

- **원시 자료형**  
  두 값이 같다면 리액트는 이 값들이 동일하다고 간주한다.  
  즉, 값 자체를 비교하며 값이 동일하게 생겼다면 같다고 판단한다.

  ```js
  console.log('안녕하세요' === '안녕하세요'); // true
  console.log(1234 === 1234); // true
  console.log('안녕하세요' === '반갑습니다'); // false
  console.log(4321 === 1234); // false
  ```

- **참조 자료형**  
  참조 자료형(객체, 배열 등)은 메모리의 주소를 비교한다.  
  값이 같아도 메모리 주소가 다르면 서로 다른 객체나 배열로 간주한다.

  ```js
  console.log([1, 2, 3] === [1, 2, 3]); // false
  console.log({ a: '1234' } === { a: '1234' }); // false
  ```

- **리액트에서의 상태 변화 감지**  
  각 자료형에 따라 기존 상태 값과 새로운 상태 값을 비교했을 때 `false`가 나오는 경우에만  
  리액트에서 상태 변화를 감지하고 리렌더링이 된다.

---

### **참조 자료형에서 기존 상태 재사용 하기**

- 복사

  - 스프레드 연산자
  - `Array.slice()`
  - `Object.assign()`

- 새로운 배열 리턴

  - `map()`
  - `filter()`

---
